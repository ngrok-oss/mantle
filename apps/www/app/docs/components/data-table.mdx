---
title: Data Table
description: Tables purposefully designed for dynamic, application data with features like sorting, filtering, and pagination.
---

import { Anchor } from "@ngrok/mantle/anchor";
import { IconButton } from "@ngrok/mantle/button";
import {
	DataTable,
	createColumnHelper,
	getCoreRowModel,
	getFilteredRowModel,
	getPaginationRowModel,
	getSortedRowModel,
	useReactTable,
} from "@ngrok/mantle/data-table";
import { DropdownMenu } from "@ngrok/mantle/dropdown-menu";
import { Icon } from "@ngrok/mantle/icon";
import { DotsThreeIcon } from "@phosphor-icons/react/DotsThree";
import { PencilSimpleIcon } from "@phosphor-icons/react/PencilSimple";
import { TrashSimpleIcon } from "@phosphor-icons/react/TrashSimple";
import { useMemo } from "react";
import { Example } from "~/components/example";

export const examplePayments = [
	{ id: "m5gr84i9", amount: 316, status: "success", email: "ken99@example.com" },
	{ id: "3u1reuv4", amount: 242, status: "success", email: "Abe45@example.com" },
	{ id: "derv1ws0", amount: 837, status: "processing", email: "Monserrat44@example.com" },
	{ id: "5kma53ae", amount: 874, status: "success", email: "Silas22@example.com" },
	{ id: "bhqecj4p", amount: 721, status: "failed", email: "carmella@example.com" },
];

export const columnHelper = createColumnHelper();

export const columns = [
	columnHelper.accessor("id", {
		id: "id",
		header: (props) => (
			<DataTable.Header>
				<DataTable.HeaderSortButton column={props.column} sortingMode="alphanumeric">
					ID
				</DataTable.HeaderSortButton>
			</DataTable.Header>
		),
		cell: (props) => <DataTable.Cell key={props.cell.id}>{props.getValue()}</DataTable.Cell>,
	}),
	columnHelper.accessor("amount", {
		id: "amount",
		header: (props) => (
			<DataTable.Header className="w-[200px]">
				<DataTable.HeaderSortButton
					className="justify-end"
					column={props.column}
					iconPlacement="start"
					sortingMode="alphanumeric"
				>
					Amount
				</DataTable.HeaderSortButton>
			</DataTable.Header>
		),
		cell: (props) => (
			<DataTable.Cell key={props.cell.id} className="text-right">
				{props.getValue()}
			</DataTable.Cell>
		),
	}),
	columnHelper.accessor("status", {
		id: "status",
		header: (props) => (
			<DataTable.Header>
				<DataTable.HeaderSortButton column={props.column} sortingMode="alphanumeric">
					Status
				</DataTable.HeaderSortButton>
			</DataTable.Header>
		),
		cell: (props) => <DataTable.Cell key={props.cell.id}>{props.getValue()}</DataTable.Cell>,
	}),
	columnHelper.accessor("email", {
		id: "email",
		header: (props) => (
			<DataTable.Header>
				<DataTable.HeaderSortButton column={props.column} sortingMode="alphanumeric">
					Email
				</DataTable.HeaderSortButton>
			</DataTable.Header>
		),
		cell: (props) => <DataTable.Cell key={props.cell.id}>{props.getValue()}</DataTable.Cell>,
	}),
	columnHelper.display({
		id: "actions",
		header: () => <DataTable.Header />,
		cell: () => (
			<DataTable.ActionCell>
				<DropdownMenu.Root>
					<DropdownMenu.Trigger asChild>
						<IconButton
							appearance="outlined"
							className="max-w rounded"
							type="button"
							size="sm"
							label="Open actions"
							icon={<DotsThreeIcon weight="bold" />}
						/>
					</DropdownMenu.Trigger>
					<DropdownMenu.Content align="end">
						<DropdownMenu.Item className="flex items-center gap-2">
							<Icon svg={<PencilSimpleIcon />} /> Edit
						</DropdownMenu.Item>
						<DropdownMenu.Item className="text-danger-600 flex items-center gap-2">
							<Icon svg={<TrashSimpleIcon />} />
							Delete
						</DropdownMenu.Item>
					</DropdownMenu.Content>
				</DropdownMenu.Root>
			</DataTable.ActionCell>
		),
	}),
];

export function PaymentsDemo() {
	const data = useMemo(() => examplePayments, []);
	const table = useReactTable({
		data,
		columns,
		getCoreRowModel: getCoreRowModel(),
		getPaginationRowModel: getPaginationRowModel(),
		getSortedRowModel: getSortedRowModel(),
		getFilteredRowModel: getFilteredRowModel(),
		initialState: {
			sorting: [{ id: "email", desc: false }],
			pagination: { pageSize: 100 },
		},
	});
	const rows = table.getRowModel().rows;
	return (
		<DataTable.Root table={table}>
			<DataTable.Head />
			<DataTable.Body>
				{rows.length > 0 ? (
					rows.map((row) => (
						<DataTable.Row
							className="cursor-pointer"
							key={row.id}
							onClick={() => {
								window.alert(`Clicked payment row: ${row.original.id}`);
							}}
							row={row}
						/>
					))
				) : (
					<DataTable.EmptyRow>
						<p className="flex items-center justify-center min-h-20">No results.</p>
					</DataTable.EmptyRow>
				)}
			</DataTable.Body>
		</DataTable.Root>
	);
}

export function EmptyPaymentsDemo() {
	const data = useMemo(() => [], []);
	const table = useReactTable({
		data,
		columns,
		getCoreRowModel: getCoreRowModel(),
		getPaginationRowModel: getPaginationRowModel(),
		getSortedRowModel: getSortedRowModel(),
		getFilteredRowModel: getFilteredRowModel(),
		initialState: {
			sorting: [{ id: "email", desc: false }],
			pagination: { pageSize: 100 },
		},
	});
	const rows = table.getRowModel().rows;
	return (
		<DataTable.Root table={table}>
			<DataTable.Head />
			<DataTable.Body>
				{rows.length > 0 ? (
					rows.map((row) => <DataTable.Row className="cursor-pointer" key={row.id} row={row} />)
				) : (
					<DataTable.EmptyRow>
						<p className="flex items-center justify-center min-h-20">No results.</p>
					</DataTable.EmptyRow>
				)}
			</DataTable.Body>
		</DataTable.Root>
	);
}

# Data Table

Tables purposefully designed for dynamic, application data with features like sorting, filtering, and pagination. Powered by [TanStack Table](https://tanstack.com/table/latest/docs/introduction).

<Example className="flex-col gap-6">
	<div className="w-full">
		<PaymentsDemo />
	</div>
	<div className="w-full">
		<EmptyPaymentsDemo />
	</div>
</Example>

```tsx
import {
	DataTable,
	createColumnHelper,
	getCoreRowModel,
	getFilteredRowModel,
	getPaginationRowModel,
	getSortedRowModel,
	useReactTable,
} from "@ngrok/mantle/data-table";

type Payment = {
	id: string;
	amount: number;
	status: "pending" | "processing" | "success" | "failed";
	email: string;
};

const columnHelper = createColumnHelper<Payment>();
const columns = [
	columnHelper.accessor("id", {
		id: "id",
		header: (props) => (
			<DataTable.Header>
				<DataTable.HeaderSortButton column={props.column} sortingMode="alphanumeric">
					ID
				</DataTable.HeaderSortButton>
			</DataTable.Header>
		),
		cell: (props) => <DataTable.Cell key={props.cell.id}>{props.getValue()}</DataTable.Cell>,
	}),
	// ... more columns
];

function PaymentsExample() {
	const data = useMemo(() => examplePayments, []);

	const table = useReactTable({
		data,
		columns,
		getCoreRowModel: getCoreRowModel(),
		getPaginationRowModel: getPaginationRowModel(),
		getSortedRowModel: getSortedRowModel(),
		getFilteredRowModel: getFilteredRowModel(),
		initialState: {
			sorting: [{ id: "email", desc: false }],
			pagination: { pageSize: 100 },
		},
	});

	const rows = table.getRowModel().rows;

	return (
		<DataTable.Root table={table}>
			<DataTable.Head />
			<DataTable.Body>
				{rows.length > 0 ? (
					rows.map((row) => (
						<DataTable.Row
							className="cursor-pointer"
							key={row.id}
							onClick={() => {
								window.alert(`Clicked payment row: ${row.original.id}`);
							}}
							row={row}
						/>
					))
				) : (
					<DataTable.EmptyRow>
						<p className="flex items-center justify-center min-h-20">No results.</p>
					</DataTable.EmptyRow>
				)}
			</DataTable.Body>
		</DataTable.Root>
	);
}
```

## API Reference

The `DataTable` components are built on top of [TanStack Table](https://tanstack.com/table/latest/docs/introduction). All TanStack Table utilities (`createColumnHelper`, `getCoreRowModel`, `getSortedRowModel`, etc.) are re-exported from `@ngrok/mantle/data-table`.

### DataTable.Root

The root container for the data table. Wraps all other DataTable sub-components and provides the table context.

| Prop    | Type                   | Default | Description                            |
| :------ | :--------------------- | :------ | :------------------------------------- |
| `table` | `TableInstance<TData>` |         | The TanStack Table instance to render. |

All additional props from [Table.Root](/components/table).

### DataTable.Head

Automatically renders column headers from the table instance. Does not accept children.

All props from the HTML `thead` element.

### DataTable.Body

The table body container for rows of data.

All props from the HTML `tbody` element.

### DataTable.Row

Renders a single data row using the column definitions from the table instance.

| Prop  | Type              | Default | Description                                |
| :---- | :---------------- | :------ | :----------------------------------------- |
| `row` | `TableRow<TData>` |         | The TanStack Table row instance to render. |

All additional props from the HTML `tr` element.

### DataTable.EmptyRow

An empty state row that spans all columns. Use when there is no data to display.

All props from the HTML `tr` element.

### DataTable.Header

A header cell component optimized for data table header actions.

All props from [Table.Header](/components/table).

### DataTable.HeaderSortButton

A sortable button toggle for column headers. Clicking cycles through sort directions.

| Prop              | Type                                          | Default | Description                         |
| :---------------- | :-------------------------------------------- | :------ | :---------------------------------- |
| `column`          | `Column<TData, TValue>`                       |         | The TanStack Table column instance. |
| `sortingMode`     | `"alphanumeric" \| "time"`                    |         | The sorting mode of the column.     |
| `disableSorting?` | `boolean`                                     | `false` | Disable sorting for this column.    |
| `sortIcon?`       | `(sortDirection: SortDirection) => ReactNode` |         | Custom sort icon override.          |
| `iconPlacement?`  | `"start" \| "end"`                            | `"end"` | The side the sort icon renders on.  |

All additional props from [Button](/components/button).

### DataTable.Cell

A table cell component for rendering individual data cells.

All props from [Table.Cell](/components/table).

### DataTable.ActionCell

A sticky action cell positioned at the end of each row for action buttons.

All props from [Table.Cell](/components/table).
