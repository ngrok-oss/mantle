---
import '../mantle.css';
import { Card } from '../components/card';
import { CardHeader } from '../components/card';
import { CardTitle } from '../components/card';
import { CardBody } from '../components/card';
import { Button } from '../components/button';
import { Input } from '../components/input';
---

<html>
  <body id="ngrok">
    <select id="themeSelect">
      <option value="">Light Theme</option>
      <option value="dark">Dark Theme</option>
      <option value="high-contrast">Light High Contrast Theme</option>
      <option value="dark high-contrast">Dark High Contrast Theme</option>
    </select>

    <Card className="mx-auto w-96 rounded-lg">
      <CardHeader>
        <CardTitle>Sign up</CardTitle>
      </CardHeader>
      <CardBody>
        <div class="flex gap-2">
          <Input
            placeholder="Choose a username"
            state="default"
          />

          <Button
            priority="default"
            size="default"
            state="default"
          >
            Submit
          </Button>
        </div>
      </CardBody>
    </Card>

    <script type="text/javascript">
      function setTheme(theme) {
        document.documentElement.className = theme;
      }

      // Get the select element and listen for changes
      const themeSelect = document.getElementById("themeSelect");
      themeSelect.addEventListener("change", function () {
        setTheme(themeSelect.value);
      });

      // Set the initial theme based on user preference (you can use cookies or local storage)
      // For simplicity, we'll default to the light theme here
      const userPreferredTheme = localStorage.getItem("userPreferredTheme");
      if (userPreferredTheme) {
        setTheme(userPreferredTheme);
        themeSelect.value = userPreferredTheme;
      } else {
        setTheme("light");
      }

      // Save user's theme preference to local storage
      themeSelect.addEventListener("change", function () {
        localStorage.setItem("userPreferredTheme", themeSelect.value);
      });
    </script>
  </body>
</html>