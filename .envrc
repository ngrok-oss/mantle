# Function to check if a command exists
command_exists() {
  command -v "$1" >/dev/null 2>&1
}

# Check if 'bun' is installed
if ! command_exists bun; then
  echo "bun is not installed. Installing bun..."

  # Install bun
  curl -fsSL https://bun.sh/install | bash
  
  echo "bun installed successfully."
fi

# Ensure 'bun' is in the PATH
export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"

# Upgrade bun to the latest version
echo "Upgrading bun..."
bun upgrade

echo "bun is ready to use."
